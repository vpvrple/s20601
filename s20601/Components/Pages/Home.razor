@page "/"
@using Microsoft.EntityFrameworkCore
@using s20601.Data
@using s20601.Data.Models
@using s20601.Services
@inject IDbContextFactory<s20601.Data.S20601Context> DbFactory
@inject IMovieService MovieSvc

<MudContainer>
    <MudGrid>
        <MudItem xs="12">
            <MudText Typo="Typo.h4">Movie of the day</MudText>
        </MudItem>
        <MudItem lg="6" md="6" xs="12">
            <MudImage Src="favicon.png"
                      ObjectFit="ObjectFit.None"
                      Alt="Movie poster"
                      Elevation="1"
                      Fluid="true"
                      Style="height:100%; width: 100%;">
            </MudImage>
        </MudItem>
        <MudItem lg="6" md="6" xs="12">
            <MudGrid Class="d-flex align-center">
                <MudItem>
                    @if (movieOfTheDay is not null)
                    {
                        <MudText Typo="Typo.h5">
                            @movieOfTheDay.Movie.Title
                            <MudText Typo="Typo.subtitle1">(@movieOfTheDay.Movie.StartYear)</MudText>
                        </MudText>
                    }
                    else
                    {
                        <MudText Typo="Typo.h5">Loading...</MudText>
                    }
                </MudItem>
                <MudFlexBreak />
                <MudItem>
                    <MudText Typo="Typo.h6">Community rating</MudText>
                    <MudRating SelectedValue="3" />
                </MudItem>
                <MudItem>
                    <MudText Typo="Typo.h6">Community sentiment</MudText>
                    <MudText Typo="Typo.body1" Color="Color.Success">Positive</MudText>
                </MudItem>
                <MudFlexBreak />
                <MudItem>
                    <MudText Typo="Typo.h6">Directors</MudText>
                    <MudGrid>
                        <MudItem>
                            <MudLink Href="#">Lorem Ipsum</MudLink>
                        </MudItem>
                        <MudItem>
                            <MudLink Href="#">Lorem Ipsum</MudLink>
                        </MudItem>
                    </MudGrid>
                </MudItem>
                <MudFlexBreak />
                <MudItem>
                    <MudText Typo="Typo.h6">Writers</MudText>
                    <MudGrid>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                        </MudItem>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                        </MudItem>
                    </MudGrid>
                </MudItem>
                <MudFlexBreak />
                <MudItem>
                    <MudText Typo="Typo.h6">Cast</MudText>
                    <MudGrid>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                            <MudText Typo="Typo.subtitle1" Color="Color.Dark">Dolor Sit</MudText>
                        </MudItem>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                            <MudText Typo="Typo.subtitle1" Color="Color.Dark">Dolor Sit</MudText>
                        </MudItem>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                            <MudText Typo="Typo.subtitle1" Color="Color.Dark">Dolor Sit</MudText>
                        </MudItem>
                        <MudItem>
                            <MudLink Href="#">
                                Lorem Ipsum
                            </MudLink>
                            <MudText Typo="Typo.subtitle1" Color="Color.Dark">Dolor Sit</MudText>
                        </MudItem>
                    </MudGrid>
                </MudItem>
                <MudFlexBreak />
                <MudItem>
                    <MudText Typo="Typo.h6">Genres</MudText>
                    <MudChipSet T="Color">
                        <MudChip>Action</MudChip>
                        <MudChip>Thriller</MudChip>
                        <MudChip>Exciting</MudChip>
                    </MudChipSet>
                </MudItem>
                <MudItem>
                    <MudText Typo="Typo.h6">Top reviews</MudText>
                    <MudChat>
                        <MudAvatar>T</MudAvatar>
                        <MudChatHeader Name="Test" Time="2 hours ago" />
                        <MudChatBubble>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis in posuere tellus. Mauris elit diam, sodales in mauris eu, sagittis accumsan nibh. Donec convallis diam at tempor pharetra...
                        </MudChatBubble>
                    </MudChat>
                    <MudChat>
                        <MudAvatar>U</MudAvatar>
                        <MudChatHeader Name="Test" Time="3 days ago" />
                        <MudChatBubble>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis in posuere tellus. Mauris elit diam, sodales in mauris eu, sagittis accumsan nibh. Donec convallis diam at tempor pharetra...
                        </MudChatBubble>
                    </MudChat>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Primary">All reviews</MudButton>
                </MudItem>
            </MudGrid>
        </MudItem>
        <MudItem xs="12">
            <MudText Typo="Typo.h4">Movies of the week</MudText>
            <MudCarousel Style="height: 300px;" ShowArrows="true" TData="object" ShowBullets="false" AutoCycle="false">
                <MudCarouselItem>
                    <MudGrid Justify="Justify.Center" Style="align-center" Class="pa-5">
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                    </MudGrid>
                </MudCarouselItem>
                <MudCarouselItem>
                    <MudGrid Justify="Justify.Center" Style="align-center" Class="pa-5">
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                    </MudGrid>
                </MudCarouselItem>
            </MudCarousel>
        </MudItem>
        <MudItem xs="12">
            <MudText Typo="Typo.h4">Trending community collections</MudText>
            <MudCarousel Style="height: 300px;" ShowArrows="true" TData="object" ShowBullets="false" AutoCycle="false">
                <MudCarouselItem>
                    <MudGrid Justify="Justify.Center" Style="align-center" Class="pa-5">
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                    </MudGrid>
                </MudCarouselItem>
                <MudCarouselItem>
                    <MudGrid Justify="Justify.Center" Style="align-center" Class="pa-5">
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                        <MudItem lg="2">
                            <MudCard Class="align-center">
                                <MudImage Src="favicon.png"
                                          ObjectFit="ObjectFit.ScaleDown"
                                          Alt="Movie poster"
                                          Elevation="1"
                                          Fluid="true"
                                          Style="height:100%; width: 100%;">
                                </MudImage>
                                <MudCardContent><MudLink Href="#">Lorem Ipsum</MudLink></MudCardContent>
                            </MudCard>
                        </MudItem>
                    </MudGrid>
                </MudCarouselItem>
            </MudCarousel>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    MovieOfTheDay? movieOfTheDay = null!;
    protected override async Task OnInitializedAsync()
    {
        movieOfTheDay = await MovieSvc.GetCurrentMovieOfTheDayAsync();
    }
}