@using s20601.Services

@inject IFriendService FriendSvc

<AuthorizeView>
    <Authorized>
        <MudButton OnClick="@AcceptRequest"
                   EndIcon="@Icons.Material.Filled.Check"
                   Variant="Variant.Filled"
                   Color="Color.Success"
                   Size="Size.Small">
            Accept
        </MudButton>
    </Authorized>
</AuthorizeView>

@code {
    [Parameter] public required string RequesterId { get; set; }
    [Parameter] public EventCallback OnRequestAccepted { get; set; }

    private async Task AcceptRequest()
    {
        await FriendSvc.AcceptFriendRequest(RequesterId);
        await OnRequestAccepted.InvokeAsync();
    }
}