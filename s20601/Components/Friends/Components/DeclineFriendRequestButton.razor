@using s20601.Services

@inject IFriendService FriendSvc

<AuthorizeView>
    <Authorized>
        <MudButton OnClick="@DeclineRequest"
                   EndIcon="@Icons.Material.Filled.DoNotDisturb"
                   Variant="Variant.Filled"
                   Color="Color.Error"
                   Size="Size.Small">
            Decline
        </MudButton>
    </Authorized>
</AuthorizeView>

@code {
    [Parameter] public required string RequesterId { get; set; }
    [Parameter] public EventCallback OnRequestDeclined { get; set; }

    private async Task DeclineRequest()
    {
        await FriendSvc.DeclineFriendRequest(RequesterId);
        await OnRequestDeclined.InvokeAsync();
    }
}